Увлажнитель — ядро нашего проекта. Для него мы купили пьезоэлемент — ультразвуковую мембрану, распыляющую воду. Для работы такой мембраны необходим ток с частотой ~108 кГц (к сожалению, поняли мы это далеко не сразу...) Сначала мы хотели самостоятельно собрать схему, которая способна его обеспечивать. Но оказалось, что для такой схемы необходимо очень тщательно подбирать компоненты и их параметры, поэтому мы решили, что выполнение этой работы — не рационально. Именно поэтому в проекте мы используем уже готовую плату, обеспечивающую необходимую частоту. Мы переделали подачу питания на неё, и теперь она питается от ESP32, а её включением/выключением мы можем управлять с помощью реле.

Изменение направления подачи тумана. Из разных вариантов реализации направленной подачи мы в итоге выбрали такой: туман выходит из изогнутой на 45 градусов трубы, которая поворачивается на нужный угол с помощью сервопривода и системы шестеренок. Для успешной инициализации используется оптический концевик, который позволяет определять нулевое положение. Напечатать шестерёнки с первого раза, конечно, не получилось, и у нас было очень много тестовых вариантов. Буквально в последний день мы заметили, что у шестерёнок, у которых должно было быть одинаковое количество зубьев, оно отличается на 1... Пришлось переделывать.

Корпус.
Мы долго решали, как и что должно быть расположено для успешной работы. Основную сложность составляло обеспечить правильное зацепление шестеренок по высоте. Первоначально шестерни моделировались вручную, и из-за этого их параметры не совпадали между собой, что мешало корректной сборке. Позже мы узнали о специальном инструменте в SolidWorks (ToolBox), который позволяет создавать шестерни с одинаковым модулем, что как раз и обеспечивает их правильное соединение друг с другом. Дополнительной задачей было точно «посадить» все шестерни на нужные валы и элементы конструкции, подогнав их под необходимые размеры. Также важно было подобрать правильную длину крышки устройства, чтобы все компоненты закрывались корректно и не мешали движению механизма.
Помимо этого, освоили программу CorelDRAW, в которой превращали модели в чертежи и дорабатывали их

Датчики. Мы взяли готовые датчики, работающие по протоколу Zigbee. Они сообщаются с программой Home Assistant, которая с помощью MQTT брокера взаимодействует с ESP32.

Что мы не успели. Мы предполагали, что поворотом трубы мы будем управлять, используя энкодер. Поэтому он даже есть у нас в схеме. В процессе работы мы поняли, что реализовать поворот будет легче с помощью delay сервопривода. Поэтому мы  задаём сервоприводу количество времени, нужное для поворота на заданный угол.

Академическая ценность. Перед началом курса мы совсем не понимали, что и как делать. У нас были только какие-то бызовые навыки типо пайки и каких-то элементарных штук в солиде(с минимумом опыта) и все. И честно, мы в шоке, от того, что из этого всего выросло))

Чему мы научились: 
• 3Д моделирование и фрезерная резка
• Программирование микроконтроллеров 
• Изготовление печатной платы
• Монтаж и пайка электронных компонентов 


Итоги. Мы конечно несколько не успели довести все до ума, и многое делали в последний момент. (И очень надеемся, что на сдаче все внезапно не сломается). Но основная и большая часть работа была успешно выполнена (урааа!).
